# VktoTelegram

**VktoTelegram** – это Telegram-бот, который автоматически перенаправляет сообщения и медиафайлы из ВКонтакте группы в Telegram группу. Приложение поддерживает регулярные обновления и обработку сообщений в реальном времени.

## Описание

Проект **VktoTelegram** предоставляет следующие возможности:
- **Получение сообщений из ВКонтакте**:
  - Автоматическое извлечение сообщений и медиафайлов (текст, фото, документы, т.д) через VK API.
- **Отправка в Telegram**:
  - Автоматическое отправление сообщений и медиафайлов в указанные Telegram-чаты или группы.
- **Планирование задач**:
  - Регулярное обновление и проверка новых сообщений с использованием Redis для хранения состояний.

## Основные функции

- **Администратор**:
  - Настройка работы с аккаунтами ВКонтакте и Telegram.
  - Управление расписанием проверок на новые сообщения.
  - Ведение логов и мониторинг работы бота.

## Технологии

Проект использует следующие технологии и библиотеки:
- **Aiogram**: для взаимодействия с Telegram API.
- **Aiohttp**: для работы с VK API и отправки HTTP-запросов.
- **Redis**: для кэширования и управления состояниями.
- **Docker-compose**: для контейнеризации и развертывания проекта.
- **Ruff**: для линтинга и статического анализа кода.

## Установка

1. **Клонируйте репозиторий**:

    ```sh
    git clone https://github.com/abduqodir2287/VktoTelegram.git
    cd VktoTelegram
    ```

2. **Создайте и активируйте виртуальное окружение**:

    ```sh
    python -m venv venv
    source venv/bin/activate  # Для Windows используйте `venv\Scripts\activate`
    ```

3. **Установите зависимости**:

    ```sh
    pip install -r requirements.txt
    ```

4. **Настройте переменные окружения**:

   Скопируйте файл `.env_example` в `.env` и заполните его своими данными:

    ```sh
    cp .env_example .env
    ```

## Использование

1. **Запустите бота**:

    ```bash
    make start-bot
    ```

   Либо без `make`:

    ```bash
    python -m src.main
    ```

## Docker
1. **Для запуска проекта с помощью Docker используйте следующую команду:**
   ```bash
   docker-compose up --build
   ```

## Линтинг кода с Ruff

Для проверки и автоматической исправления кода с помощью **Ruff** используйте следующие команды:

1. Для проверки кода на наличие ошибок:

    ```bash
    make lint
    ```

2. Либо без использования `make`:

    ```bash
    ruff check .
    ```

3. Для автоматического исправления ошибок:

    ```bash
    ruff check --fix
    ```

## Поддерживаемые типы сообщений

Бот **VktoTelegram** поддерживает следующие типы сообщений для отправки в Telegram:

1. **Фото**: Автоматическая отправка изображений из ВКонтакте.
2. **Текст**: Длина текста не ограничена.
3. **Опросы**: Поддержка отправки опросов в Telegram.
4. **Локации**: Отправка геолокаций.
5. **Файлы**: Поддержка отправки документов из ВКонтакте.
_______________

